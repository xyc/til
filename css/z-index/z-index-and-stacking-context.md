# z-index

## Generic Approach
- Local: elements that need to render on top of a sibling or nearby element
    - must be contained in new stacking context
    - rarely have `z-idnex` > 1
    - means setting `z-index` on elements in a new stacking context
- Global: elements that must render on top of elements elsewhere on the page
    - z-index values must be declared as global variables in a central location
    - Generally fewer than 10 in a site
    - means setting `z-index` on elements in the "root stacking context"

### New Local Stacking context

> Stacking contexts are generated by any positioned element (including relatively positioned elements) having a computed value of ‘z-index’ other than ‘auto’

> **Once this new stacking context is created, you can be confident that nothing within that element can render on top of anything outside that element.**

1. New stacking context with position & z-index
```css
position: relative;
z-index: 0;
```

2. New stacking context with transform (Side effect)
```css
transform: translate(0);
```

Side effect: No child of `transform: translate(0)` can be fixed relative to the viewport. They will be fixed relative to the element.
> You may have been told that position: fixed is relative to the viewport. This is not true.
> “any value other than none for the transform also causes the element to become … a containing block for fixed positioned descendants”.

3. New stacking context with opacity (BAD)
```css
opacity: 0.999; /*opacity less than 1*/
```

## Read more
- [My approach to using z-index](https://medium.com/hackernoon/my-approach-to-using-z-index-eca67feb079c): A really really good article
- [Stacking Context, or why your z-index won't work](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context)
- https://medium.freecodecamp.com/z-axis-html-css-z-index-layout-adventures-2419cefdc2ed#.5ipyue6m0
- [MDN Stacking context](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context)
- [Using Z-index](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Adding_z-index)